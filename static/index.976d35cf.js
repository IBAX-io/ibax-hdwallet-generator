import"../js/vue/vue.59189cdd.js";import{E as W,a as X,b as F,c as $,d as J,e as q,f as Y,g as z,h as Q,i as Z,v as ee,j as T}from"../js/element-plus/element-plus.df8def5d.js";import{e as te}from"../js/@element-plus/@element-plus.2a24136e.js";import{g as oe,w as B,v as ne}from"../js/@scure/@scure.4f18fd3d.js";import{L as d}from"../js/long/long.d4ba7771.js";import{H as re,m as se,W as ae,i as le}from"../js/@ethersproject/@ethersproject.691c5a26.js";import"../js/ethers/ethers.606ed0da.js";import{e as ie}from"../js/elliptic/elliptic.0f67617d.js";import{s as P}from"../js/js-sha3/js-sha3.36711d62.js";import{C as ce,c as de}from"../js/crypto-js/crypto-js.30eddf43.js";import"../js/int64-buffer/int64-buffer.967f7703.js";import{z as me,r as x,U as pe,c as H,P as i,M as c,o as A,a,I as ue,J as fe,aa as he,u as K,G as _e,L as U,R as g,a5 as L,ad as ge}from"../js/@vue/@vue.475b9a4f.js";import"../js/@vueuse/@vueuse.7869698c.js";import"../js/lodash-es/lodash-es.db97898c.js";import"../js/@ctrl/@ctrl.17547d95.js";import"../js/@popperjs/@popperjs.f1fb8f77.js";import"../js/escape-html/escape-html.d572c0fd.js";import"../js/normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../js/@noble/@noble.4a211549.js";import"../js/bn.js/bn.js.3f1df28e.js";import"../js/hash.js/hash.js.85ebb73d.js";import"../js/minimalistic-assert/minimalistic-assert.9b24acbb.js";import"../js/inherits/inherits.8c0749bb.js";import"../js/aes-js/aes-js.e6bb97a2.js";import"../js/scrypt-js/scrypt-js.f8275dc1.js";import"../js/minimalistic-crypto-utils/minimalistic-crypto-utils.82167c81.js";import"../js/brorand/brorand.2f4fa8bd.js";import"../js/hmac-drbg/hmac-drbg.a9afaa23.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const be=()=>[{label:"12",command:128},{label:"15",command:160},{label:"18",command:192},{label:"21",command:224},{label:"24",command:256}],ve=(e,n="id")=>{const o={};return e.reduce((t,s)=>(o[s[n]]||(t.push(s),o[s[n]]=!0),t),[])},we=64,y={generateSeed:(e=128)=>oe(B,e),verifyWords(e){return ne(e,B)},generatePriavte:(e,n=0)=>re.fromSeed(se(e)).derivePath(`m/44'/60'/0'/0/${n}`).privateKey.replace("0x",""),ethAddress:e=>new ae(e).address,validatePrivateKey:e=>!e||we!==e.length?!1:/[a-f0-9]/i.test(e),isAddress(e){return le(e)},checksum(e){let n=0,o=0,r=0;for(let t=0;t<e.length;t+=1){const s=e[t];t&1?n+=s:o+=s}return r=(o+3*n)%10,r>0&&(r=10-r),r},remainder(e,n){const o=parseInt(e.slice(0,e.length-10),10)%n,r=parseInt(e.slice(10),10)%n;return(o*(10**10%n)+r)%n},addressString(e){const n=d.fromString(e,!0,10).toString(),o="0".repeat(20-n.length)+n;let r="";for(let t=0;t<4;t+=1)r+=`${o.slice(t*4,(t+1)*4)}-`;return r+=o.slice(16),r},stringToAddress(e){if(e.length===0)return 0;e[0]==="-"&&(e=d.fromString(e,!0,10).toString()),e.length<20&&(e="0".repeat(20-e.length)+e);const o=/-/gi,r=e.replace(o,"");if(r.length!==20)return 0;const t=d.fromString(r,!1,10).toString(),s=r.slice(0,19).split("").map(Number);return this.checksum(s)!==parseInt(r.slice(19,20),10)?0:t},addressToID(e){let n;e=e.trim();const o=e.split("-").length-1===4;return e.length<2?"0":(e[0]==="-"?n=d.fromString(e,!0,10).toString():o?n=this.stringToAddress(e):n=d.fromString(e,!1,10).toString(),String(n))}},ye=d.fromInt(255),ke=e=>{const n=[];let o;for(let r=0;r<256;r+=1){o=d.fromInt(r,!0);for(let t=0;t<8;t+=1)o.and(d.ONE).eq(d.ONE)?(o=o.shiftRightUnsigned(1),o=o.xor(e)):o=o.shiftRightUnsigned(1);n[r]=o}return n},xe=(e,n)=>{let o=d.MAX_UNSIGNED_VALUE;for(let r=0;r<n.length;r+=1){const t=e[o.xor(n[r]).and(ye).toString()];o=o.shiftRightUnsigned(8).xor(t)}return o.xor(d.MAX_UNSIGNED_VALUE)},Ae=ke(d.fromString("0xC96C5795D7870F42",!1,16)),Se=e=>xe(Ae,e).toString(10),Ie=e=>new Uint8Array(e.match(/[\da-f]{2}/gi).map(o=>parseInt(o,16))).buffer,Ee=new ie.ec("secp256k1"),De=20,C={generatePublicKey(e){return Ee.keyFromPrivate(e).getPublic().encode("hex",!1)},publicToID(e){if(e.startsWith("04")){const n=ce.enc.Hex.parse(P.keccak256(Ie(e.slice(2)))),o=de.exports.SHA512(n).toString(),r=[];for(let f=0;f<o.length;f+=2)r.push(parseInt(o[f]+o[f+1],16));const t=Se(r),u=("0".repeat(De-t.length)+t).split("").map(f=>parseInt(f,10)),S=y.checksum(u.slice(0,-1));return d.fromString(t).sub(y.remainder(t,10)).add(S).toString()}throw new Error("Unsupported public key format")},hexHash(e){const n=P.keccak256.arrayBuffer(e);return P.keccak256(n)},addressString(e){const n=d.fromString(e,!0,10).toString(),o="0".repeat(20-n.length)+n;let r="";for(let t=0;t<4;t+=1)r+=`${o.slice(t*4,(t+1)*4)}-`;return r+=o.slice(16),r},generateAddres(e){const n=this.publicToID(e);return this.addressString(n)}},Pe={class:"container"},Ce={class:"app"},Le=a("h1",{class:"app-h1"},"IBAX HDWallet Generator",-1),Ne={class:"app-mnemonic"},Te={class:"app-mnemonic-box"},Be=a("span",{class:"app-mnemonic-box-label"},"BIP39 mnemonics",-1),He={class:"app-mnemonic-box-content app-mnemonic-layout"},Ke=L(" Generate "),Ue={class:"app-mnemonic-box"},Ve=a("span",{class:"app-mnemonic-box-label"},"Mnemonics",-1),Me={class:"app-mnemonic-box-content"},Re={class:"app-mnemonic-box"},Ge=a("span",{class:"app-mnemonic-box-label"},null,-1),Oe={class:"app-mnemonic-box-content"},je=L(" Create "),We=a("h2",{class:"app-table-title"},"Derived Address",-1),Xe={class:"app-table"},Fe=me({__name:"App",setup(e){const n=be(),o=x("12"),r=x(128),t=x(!1),s=x(""),u=pe({arr:[]}),S=_=>{r.value=Number(_);const m=n.find(p=>p.command===_);o.value=m.label};let b=0,v=[];const f=(_,m)=>{const p=y.generatePriavte(_,m);return new Promise((I,E)=>{if(p){const k=C.generatePublicKey(p),w=C.publicToID(k),h=C.addressString(w),D={id:m,path:`m/44'/60'/0'/0/${m}`,privateKey:p,publicKey:k,ethAddress:y.ethAddress(p),ibaxAddress:h,ibaxKeyID:w};I(D)}else E("error")})},N=async _=>{const{value:m}=s;if(m)if(b<=10){const p=await f(m,_);v.push(p),v.length&&(u.arr=ve(v)),b+=1,N(b)}else return t.value=!1,b=0,!1;else T({showClose:!0,message:"Error in mnemonic words",type:"warning"})},V=()=>{s.value?(u.arr=[],v=[],t.value=!0,setTimeout(()=>{N(0)},500)):(t.value=!1,T({showClose:!0,message:"Mnemonic cannot be empty",type:"warning"}))},M=()=>{s.value=y.generateSeed(r.value)};return(_,m)=>{const p=W,I=X,E=F,k=$,w=J,h=q,D=Y,R=z,G=Q,O=Z,j=ee;return A(),H("div",Pe,[i(O,null,{default:c(()=>[i(G,{justify:"center"},{default:c(()=>[i(R,{lg:21,md:22,ml:23},{default:c(()=>[a("div",Ce,[Le,a("div",Ne,[a("div",Te,[Be,a("div",He,[ue(`   <div class="app-mnemonic-box-content-des">\r
                    <span>\r
                      You can enter an existing BIP39 mnemonic, or generate a\r
                      new random mnemonic. It is not feasible to input 12 words\r
                      at random, because these words need a specific structure\r
                      (the last word contains a checksum).\r
                    </span>\r
                    <a\r
                      href="https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki"\r
                      target="_blank"\r
                    >\r
                      BIP39 spec.\r
                    </a>\r
                  </div> `),i(k,{onCommand:S},{dropdown:c(()=>[(A(!0),H(fe,null,he(K(n),l=>(A(),U(E,{key:l.label},{default:c(()=>[i(I,{command:l.command},{default:c(()=>[L(g(l.label),1)]),_:2},1032,["command"])]),_:2},1024))),128))]),default:c(()=>[i(p,{modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=l=>o.value=l),placeholder:"Pick a date","suffix-icon":K(te)},null,8,["modelValue","suffix-icon"])]),_:1}),i(w,{type:"primary",class:"app-mnemonic-layout-btn",onClick:M},{default:c(()=>[Ke]),_:1})])]),a("div",Ue,[Ve,a("div",Me,[i(p,{modelValue:s.value,"onUpdate:modelValue":m[1]||(m[1]=l=>s.value=l),placeholder:"Please mnemonic",type:"textarea",rows:"3",clearable:""},null,8,["modelValue"])])]),a("div",Re,[Ge,a("div",Oe,[i(w,{type:"primary",onClick:V},{default:c(()=>[je]),_:1})])])]),We,a("div",Xe,[_e((A(),U(D,{data:u.arr,height:"500",stripe:"",style:{width:"100%"}},{default:c(()=>[i(h,{prop:"path",label:"Path",width:"120"}),i(h,{label:"Private Key","show-overflow-tooltip":"",width:"450"},{default:c(l=>[a("span",null,g(l.row.privateKey),1)]),_:1}),i(h,{label:"IBAX Address","show-overflow-tooltip":"",width:"180"},{default:c(l=>[a("span",null,g(l.row.ibaxAddress),1)]),_:1}),i(h,{label:"ETH Address","show-overflow-tooltip":"",width:"320"},{default:c(l=>[a("span",null,g(l.row.ethAddress),1)]),_:1}),i(h,{label:"IBAX KeyID","show-overflow-tooltip":"",width:"160"},{default:c(l=>[a("span",null,g(l.row.ibaxKeyID),1)]),_:1}),i(h,{label:"Public Key","show-overflow-tooltip":"",width:"880"},{default:c(l=>[a("span",null,g(l.row.publicKey),1)]),_:1})]),_:1},8,["data"])),[[j,t.value]])])])]),_:1})]),_:1})]),_:1})])}}}),$e=(e,n)=>{const o=e.__vccOpts||e;for(const[r,t]of n)o[r]=t;return o},Je=$e(Fe,[["__file","C:/gitrepo/github.com/IBAX-io/ibax-hdwallet-generator/src/App.vue"]]);ge(Je).mount("#app");
