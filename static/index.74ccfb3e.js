import"../js/vue/vue.e5a26b21.js";import{E as R,a as G,b as O,c as j,d as W,e as F,f as X,g as $,h as J,i as q,j as Y}from"../js/element-plus/element-plus.166d851b.js";import{e as z}from"../js/@element-plus/@element-plus.10904ef0.js";import{g as Q,w as L,v as Z}from"../js/@scure/@scure.4f18fd3d.js";import{L as d}from"../js/long/long.d4ba7771.js";import{H as ee,W as te,i as oe}from"../js/@ethersproject/@ethersproject.b3052ef5.js";import"../js/ethers/ethers.8aa8d036.js";import{e as ne}from"../js/elliptic/elliptic.0f67617d.js";import{s as S}from"../js/js-sha3/js-sha3.36711d62.js";import{C as re,c as se}from"../js/crypto-js/crypto-js.30eddf43.js";import"../js/int64-buffer/int64-buffer.967f7703.js";import{z as ae,r as E,U as le,c as N,P as c,M as m,o as P,a,J as ie,aa as ce,u as C,R as y,a5 as D,L as de,ah as me}from"../js/@vue/@vue.e9c8eab9.js";import"../js/@vueuse/@vueuse.476ca682.js";import"../js/lodash-es/lodash-es.db97898c.js";import"../js/@ctrl/@ctrl.17547d95.js";import"../js/@popperjs/@popperjs.f1fb8f77.js";import"../js/escape-html/escape-html.d572c0fd.js";import"../js/normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../js/@noble/@noble.4a211549.js";import"../js/bn.js/bn.js.3f1df28e.js";import"../js/hash.js/hash.js.85ebb73d.js";import"../js/minimalistic-assert/minimalistic-assert.9b24acbb.js";import"../js/inherits/inherits.8c0749bb.js";import"../js/aes-js/aes-js.e6bb97a2.js";import"../js/scrypt-js/scrypt-js.f8275dc1.js";import"../js/minimalistic-crypto-utils/minimalistic-crypto-utils.82167c81.js";import"../js/brorand/brorand.2f4fa8bd.js";import"../js/hmac-drbg/hmac-drbg.a9afaa23.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const g of s.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&r(g)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const pe=()=>[{label:"12",command:128},{label:"15",command:160},{label:"18",command:192},{label:"21",command:224},{label:"24",command:256}],ue=(e,n="id")=>{const o={};return e.reduce((t,s)=>(o[s[n]]||(t.push(s),o[s[n]]=!0),t),[])},fe=64,f={generateSeed:(e=128)=>Q(L,e),verifyWords(e){return Z(e,L)},generatePriavte:(e,n=0)=>ee.fromMnemonic(e).derivePath(`m/44'/60'/0'/0/${n}`).privateKey.replace("0x",""),ethAddress:e=>new te(e).address,validatePrivateKey:e=>(console.log(e.length),!e||fe!==e.length?(console.log(111),!1):/[a-f0-9]/i.test(e)),isAddress(e){return oe(e)},checksum(e){let n=0,o=0,r=0;for(let t=0;t<e.length;t+=1){const s=e[t];t&1?n+=s:o+=s}return r=(o+3*n)%10,r>0&&(r=10-r),r},remainder(e,n){const o=parseInt(e.slice(0,e.length-10),10)%n,r=parseInt(e.slice(10),10)%n;return(o*(10**10%n)+r)%n},addressString(e){const n=d.fromString(e,!0,10).toString(),o="0".repeat(20-n.length)+n;let r="";for(let t=0;t<4;t+=1)r+=`${o.slice(t*4,(t+1)*4)}-`;return r+=o.slice(16),r},stringToAddress(e){if(e.length===0)return 0;e[0]==="-"&&(e=d.fromString(e,!0,10).toString()),e.length<20&&(e="0".repeat(20-e.length)+e);const o=/-/gi,r=e.replace(o,"");if(r.length!==20)return 0;const t=d.fromString(r,!1,10).toString(),s=r.slice(0,19).split("").map(Number);return this.checksum(s)!==parseInt(r.slice(19,20),10)?0:t},addressToID(e){let n;e=e.trim();const o=e.split("-").length-1===4;return e.length<2?"0":(e[0]==="-"?n=d.fromString(e,!0,10).toString():o?n=this.stringToAddress(e):n=d.fromString(e,!1,10).toString(),String(n))}},he=d.fromInt(255),ge=e=>{const n=[];let o;for(let r=0;r<256;r+=1){o=d.fromInt(r,!0);for(let t=0;t<8;t+=1)o.and(d.ONE).eq(d.ONE)?(o=o.shiftRightUnsigned(1),o=o.xor(e)):o=o.shiftRightUnsigned(1);n[r]=o}return n},_e=(e,n)=>{let o=d.MAX_UNSIGNED_VALUE;for(let r=0;r<n.length;r+=1){const t=e[o.xor(n[r]).and(he).toString()];o=o.shiftRightUnsigned(8).xor(t)}return o.xor(d.MAX_UNSIGNED_VALUE)},be=ge(d.fromString("0xC96C5795D7870F42",!1,16)),ve=e=>_e(be,e).toString(10),we=e=>new Uint8Array(e.match(/[\da-f]{2}/gi).map(o=>parseInt(o,16))).buffer,ye=new ne.ec("secp256k1"),Ae=20,x={generatePublicKey(e){const r=ye.keyFromPrivate(e).getPublic().encode("hex",!1);return console.log(r),r},publicToID(e){if(e.startsWith("04")){const n=re.enc.Hex.parse(S.keccak256(we(e.slice(2)))),o=se.exports.SHA512(n).toString(),r=[];for(let u=0;u<o.length;u+=2)r.push(parseInt(o[u]+o[u+1],16));const t=ve(r),g=("0".repeat(Ae-t.length)+t).split("").map(u=>parseInt(u,10)),_=f.checksum(g.slice(0,-1));return d.fromString(t).sub(f.remainder(t,10)).add(_).toString()}throw new Error("Unsupported public key format")},hexHash(e){const n=S.keccak256.arrayBuffer(e);return S.keccak256(n)},addressString(e){const n=d.fromString(e,!0,10).toString(),o="0".repeat(20-n.length)+n;let r="";for(let t=0;t<4;t+=1)r+=`${o.slice(t*4,(t+1)*4)}-`;return r+=o.slice(16),r},generateAddres(e){const n=this.publicToID(e);return this.addressString(n)}},ke={class:"container"},Se={class:"app"},Ee=a("h1",{class:"app-h1"},"Mnemonic Code Converter",-1),Pe={class:"app-mnemonic"},xe={class:"app-mnemonic-box"},Ie=a("span",{class:"app-mnemonic-box-label"},"Mnemonic",-1),Le={class:"app-mnemonic-box-content"},Ne=a("div",{class:"app-mnemonic-box-content-des"},[a("span",null," You can enter an existing BIP39 mnemonic, or generate a new random mnemonic. It is not feasible to input 12 words at random, because these words need a specific structure (the last word contains a checksum). "),a("a",{href:"https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki",target:"_blank"}," BIP39 spec. ")],-1),Ce={class:"app-mnemonic-box-content-des app-mnemonic-layout"},De=a("span",null,"Generate random mnemonics:",-1),Te=D(" Generate "),Be={class:"app-mnemonic-box"},He=a("span",{class:"app-mnemonic-box-label"},"BIP39 Mnemonics",-1),Ke={class:"app-mnemonic-box-content"},Me=a("h2",{class:"app-table-title"},"Derived Address",-1),Ue={class:"app-table"},Ve=ae({__name:"App",setup(e){const n=pe(),o=E("12"),r=E(128),t=E(""),s=le({arr:[]}),g=p=>{console.log(p),r.value=Number(p);const l=n.find(h=>h.command===p);o.value=l.label};let _=0,b=[];const I=(p,l)=>{const h=f.generatePriavte(p,l);return new Promise((v,A)=>{if(h){const k={id:l,path:`m/44'/60'/0'/0/${l}`,privateKey:f.generatePriavte(p,l),publicKey:x.generatePublicKey(f.generatePriavte(p,l)),ethAddress:f.ethAddress(f.generatePriavte(p,l)),ibaxAddress:x.generateAddres(x.generatePublicKey(f.generatePriavte(p,l)))};v(k)}else A("error")})},u=async p=>{const{value:l}=t,h=f.verifyWords(l);if(console.log(h),h)if(_<=10){const v=await I(l,p);b.push(v),b.length&&(s.arr=ue(b)),_+=1,u(_)}else return _=0,!1;else Y({showClose:!0,message:"Error in mnemonic words",type:"warning"})},T=()=>{t.value&&(s.arr=[],b=[],u(0))},B=()=>{t.value=f.generateSeed(r.value),t.value&&(s.arr=[],b=[],u(0))};return(p,l)=>{const h=R,v=G,A=O,k=j,H=W,w=F,K=X,M=$,U=J,V=q;return P(),N("div",ke,[c(V,null,{default:m(()=>[c(U,{justify:"center"},{default:m(()=>[c(M,{lg:21,md:22,ml:23},{default:m(()=>[a("div",Se,[Ee,a("div",Pe,[a("div",xe,[Ie,a("div",Le,[Ne,a("div",Ce,[De,c(k,{onCommand:g},{dropdown:m(()=>[(P(!0),N(ie,null,ce(C(n),i=>(P(),de(A,{key:i.label},{default:m(()=>[c(v,{command:i.command},{default:m(()=>[D(y(i.label),1)]),_:2},1032,["command"])]),_:2},1024))),128))]),default:m(()=>[c(h,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=i=>o.value=i),placeholder:"Pick a date","suffix-icon":C(z)},null,8,["modelValue","suffix-icon"])]),_:1}),c(H,{type:"primary",class:"app-mnemonic-layout-btn",onClick:B},{default:m(()=>[Te]),_:1})])])]),a("div",Be,[He,a("div",Ke,[c(h,{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=i=>t.value=i),placeholder:"Please mnemonic",type:"textarea",rows:"3",clearable:"",onInput:T},null,8,["modelValue"])])])]),Me,a("div",Ue,[c(K,{data:s.arr,stripe:"",style:{width:"100%"}},{default:m(()=>[c(w,{prop:"path",label:"Path",width:"120"}),c(w,{label:"Private Key","show-overflow-tooltip":""},{default:m(i=>[a("span",null,y(i.row.privateKey),1)]),_:1}),c(w,{label:"Public Key","show-overflow-tooltip":""},{default:m(i=>[a("span",null,y(i.row.publicKey),1)]),_:1}),c(w,{label:"ETH Address","show-overflow-tooltip":""},{default:m(i=>[a("span",null,y(i.row.ethAddress),1)]),_:1}),c(w,{label:"IBAX Address","show-overflow-tooltip":"",width:"180"},{default:m(i=>[a("span",null,y(i.row.ibaxAddress),1)]),_:1})]),_:1},8,["data"])])])]),_:1})]),_:1})]),_:1})])}}}),Re=(e,n)=>{const o=e.__vccOpts||e;for(const[r,t]of n)o[r]=t;return o},Ge=Re(Ve,[["__file","C:/gitrepo/github.com/IBAX-io/ibax-hdwallet-generator/src/App.vue"]]);me(Ge).mount("#app");
