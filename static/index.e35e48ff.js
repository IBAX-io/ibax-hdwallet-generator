import"../js/vue/vue.e5a26b21.js";import{E as R,a as G,b as O,c as j,d as W,e as X,f as F,g as $,h as J,i as q,j as Y}from"../js/element-plus/element-plus.166d851b.js";import{e as z}from"../js/@element-plus/@element-plus.10904ef0.js";import{g as Q,w as L,v as Z}from"../js/@scure/@scure.4f18fd3d.js";import{L as c}from"../js/long/long.d4ba7771.js";import{H as ee,m as te,W as oe,i as ne}from"../js/@ethersproject/@ethersproject.691c5a26.js";import"../js/ethers/ethers.606ed0da.js";import{e as re}from"../js/elliptic/elliptic.0f67617d.js";import{s as x}from"../js/js-sha3/js-sha3.36711d62.js";import{C as se,c as ae}from"../js/crypto-js/crypto-js.30eddf43.js";import"../js/int64-buffer/int64-buffer.967f7703.js";import{z as le,r as E,U as ie,c as N,P as i,M as m,o as I,a,J as ce,aa as de,u as C,R as v,a5 as T,L as me,ah as pe}from"../js/@vue/@vue.e9c8eab9.js";import"../js/@vueuse/@vueuse.476ca682.js";import"../js/lodash-es/lodash-es.db97898c.js";import"../js/@ctrl/@ctrl.17547d95.js";import"../js/@popperjs/@popperjs.f1fb8f77.js";import"../js/escape-html/escape-html.d572c0fd.js";import"../js/normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../js/@noble/@noble.4a211549.js";import"../js/bn.js/bn.js.3f1df28e.js";import"../js/hash.js/hash.js.85ebb73d.js";import"../js/minimalistic-assert/minimalistic-assert.9b24acbb.js";import"../js/inherits/inherits.8c0749bb.js";import"../js/aes-js/aes-js.e6bb97a2.js";import"../js/scrypt-js/scrypt-js.f8275dc1.js";import"../js/minimalistic-crypto-utils/minimalistic-crypto-utils.82167c81.js";import"../js/brorand/brorand.2f4fa8bd.js";import"../js/hmac-drbg/hmac-drbg.a9afaa23.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const ue=()=>[{label:"12",command:128},{label:"15",command:160},{label:"18",command:192},{label:"21",command:224},{label:"24",command:256}],fe=(e,n="id")=>{const o={};return e.reduce((t,s)=>(o[s[n]]||(t.push(s),o[s[n]]=!0),t),[])},he=64,w={generateSeed:(e=128)=>Q(L,e),verifyWords(e){return Z(e,L)},generatePriavte:(e,n=0)=>ee.fromSeed(te(e)).derivePath(`m/44'/60'/0'/0/${n}`).privateKey.replace("0x",""),ethAddress:e=>new oe(e).address,validatePrivateKey:e=>(console.log(e.length),!e||he!==e.length?(console.log(111),!1):/[a-f0-9]/i.test(e)),isAddress(e){return ne(e)},checksum(e){let n=0,o=0,r=0;for(let t=0;t<e.length;t+=1){const s=e[t];t&1?n+=s:o+=s}return r=(o+3*n)%10,r>0&&(r=10-r),r},remainder(e,n){const o=parseInt(e.slice(0,e.length-10),10)%n,r=parseInt(e.slice(10),10)%n;return(o*(10**10%n)+r)%n},addressString(e){const n=c.fromString(e,!0,10).toString(),o="0".repeat(20-n.length)+n;let r="";for(let t=0;t<4;t+=1)r+=`${o.slice(t*4,(t+1)*4)}-`;return r+=o.slice(16),r},stringToAddress(e){if(e.length===0)return 0;e[0]==="-"&&(e=c.fromString(e,!0,10).toString()),e.length<20&&(e="0".repeat(20-e.length)+e);const o=/-/gi,r=e.replace(o,"");if(r.length!==20)return 0;const t=c.fromString(r,!1,10).toString(),s=r.slice(0,19).split("").map(Number);return this.checksum(s)!==parseInt(r.slice(19,20),10)?0:t},addressToID(e){let n;e=e.trim();const o=e.split("-").length-1===4;return e.length<2?"0":(e[0]==="-"?n=c.fromString(e,!0,10).toString():o?n=this.stringToAddress(e):n=c.fromString(e,!1,10).toString(),String(n))}},_e=c.fromInt(255),ge=e=>{const n=[];let o;for(let r=0;r<256;r+=1){o=c.fromInt(r,!0);for(let t=0;t<8;t+=1)o.and(c.ONE).eq(c.ONE)?(o=o.shiftRightUnsigned(1),o=o.xor(e)):o=o.shiftRightUnsigned(1);n[r]=o}return n},be=(e,n)=>{let o=c.MAX_UNSIGNED_VALUE;for(let r=0;r<n.length;r+=1){const t=e[o.xor(n[r]).and(_e).toString()];o=o.shiftRightUnsigned(8).xor(t)}return o.xor(c.MAX_UNSIGNED_VALUE)},ve=ge(c.fromString("0xC96C5795D7870F42",!1,16)),we=e=>be(ve,e).toString(10),ye=e=>new Uint8Array(e.match(/[\da-f]{2}/gi).map(o=>parseInt(o,16))).buffer,Ae=new re.ec("secp256k1"),ke=20,D={generatePublicKey(e){const r=Ae.keyFromPrivate(e).getPublic().encode("hex",!1);return console.log(r),r},publicToID(e){if(e.startsWith("04")){const n=se.enc.Hex.parse(x.keccak256(ye(e.slice(2)))),o=ae.exports.SHA512(n).toString(),r=[];for(let u=0;u<o.length;u+=2)r.push(parseInt(o[u]+o[u+1],16));const t=we(r),h=("0".repeat(ke-t.length)+t).split("").map(u=>parseInt(u,10)),_=w.checksum(h.slice(0,-1));return c.fromString(t).sub(w.remainder(t,10)).add(_).toString()}throw new Error("Unsupported public key format")},hexHash(e){const n=x.keccak256.arrayBuffer(e);return x.keccak256(n)},addressString(e){const n=c.fromString(e,!0,10).toString(),o="0".repeat(20-n.length)+n;let r="";for(let t=0;t<4;t+=1)r+=`${o.slice(t*4,(t+1)*4)}-`;return r+=o.slice(16),r},generateAddres(e){const n=this.publicToID(e);return this.addressString(n)}},Se={class:"container"},xe={class:"app"},Ee=a("h1",{class:"app-h1"},"IBAX HDWallet Generator",-1),Ie={class:"app-mnemonic"},Pe={class:"app-mnemonic-box"},Le=a("span",{class:"app-mnemonic-box-label"},"Mnemonic",-1),Ne={class:"app-mnemonic-box-content"},Ce=a("div",{class:"app-mnemonic-box-content-des"},[a("span",null," You can enter an existing BIP39 mnemonic, or generate a new random mnemonic. It is not feasible to input 12 words at random, because these words need a specific structure (the last word contains a checksum). "),a("a",{href:"https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki",target:"_blank"}," BIP39 spec. ")],-1),De={class:"app-mnemonic-box-content-des app-mnemonic-layout"},Te=a("span",null,"Generate random mnemonics:",-1),Be=T(" Generate "),He={class:"app-mnemonic-box"},Ue=a("span",{class:"app-mnemonic-box-label"},"BIP39 Mnemonics",-1),Ve={class:"app-mnemonic-box-content"},Ke=a("h2",{class:"app-table-title"},"Derived Address",-1),Me={class:"app-table"},Re=le({__name:"App",setup(e){const n=ue(),o=E("12"),r=E(128),t=E(""),s=ie({arr:[]}),h=f=>{console.log(f),r.value=Number(f);const d=n.find(p=>p.command===f);o.value=d.label};let _=0,g=[];const P=(f,d)=>{const p=w.generatePriavte(f,d);return new Promise((A,k)=>{if(p){const y=D.generatePublicKey(p),S={id:d,path:`m/44'/60'/0'/0/${d}`,privateKey:p,publicKey:y,ethAddress:w.ethAddress(p),ibaxAddress:D.generateAddres(y)};A(S)}else k("error")})},u=async f=>{const{value:d}=t;if(d)if(_<=10){const p=await P(d,f);g.push(p),g.length&&(s.arr=fe(g)),_+=1,u(_)}else return _=0,!1;else Y({showClose:!0,message:"Error in mnemonic words",type:"warning"})},B=()=>{t.value&&(s.arr=[],g=[],setTimeout(()=>{u(0)},500))},H=()=>{t.value=w.generateSeed(r.value),t.value&&(s.arr=[],g=[],setTimeout(()=>{u(0)},500))};return(f,d)=>{const p=R,A=G,k=O,y=j,S=W,b=X,U=F,V=$,K=J,M=q;return I(),N("div",Se,[i(M,null,{default:m(()=>[i(K,{justify:"center"},{default:m(()=>[i(V,{lg:21,md:22,ml:23},{default:m(()=>[a("div",xe,[Ee,a("div",Ie,[a("div",Pe,[Le,a("div",Ne,[Ce,a("div",De,[Te,i(y,{onCommand:h},{dropdown:m(()=>[(I(!0),N(ce,null,de(C(n),l=>(I(),me(k,{key:l.label},{default:m(()=>[i(A,{command:l.command},{default:m(()=>[T(v(l.label),1)]),_:2},1032,["command"])]),_:2},1024))),128))]),default:m(()=>[i(p,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=l=>o.value=l),placeholder:"Pick a date","suffix-icon":C(z)},null,8,["modelValue","suffix-icon"])]),_:1}),i(S,{type:"primary",class:"app-mnemonic-layout-btn",onClick:H},{default:m(()=>[Be]),_:1})])])]),a("div",He,[Ue,a("div",Ve,[i(p,{modelValue:t.value,"onUpdate:modelValue":d[1]||(d[1]=l=>t.value=l),placeholder:"Please mnemonic",type:"textarea",rows:"3",clearable:"",onBlur:B},null,8,["modelValue"])])])]),Ke,a("div",Me,[i(U,{data:s.arr,stripe:"",style:{width:"100%"}},{default:m(()=>[i(b,{prop:"path",label:"Path",width:"120"}),i(b,{label:"Private Key","show-overflow-tooltip":""},{default:m(l=>[a("span",null,v(l.row.privateKey),1)]),_:1}),i(b,{label:"Public Key","show-overflow-tooltip":""},{default:m(l=>[a("span",null,v(l.row.publicKey),1)]),_:1}),i(b,{label:"ETH Address","show-overflow-tooltip":""},{default:m(l=>[a("span",null,v(l.row.ethAddress),1)]),_:1}),i(b,{label:"IBAX Address","show-overflow-tooltip":"",width:"180"},{default:m(l=>[a("span",null,v(l.row.ibaxAddress),1)]),_:1})]),_:1},8,["data"])])])]),_:1})]),_:1})]),_:1})])}}}),Ge=(e,n)=>{const o=e.__vccOpts||e;for(const[r,t]of n)o[r]=t;return o},Oe=Ge(Re,[["__file","C:/gitrepo/github.com/IBAX-io/ibax-hdwallet-generator/src/App.vue"]]);pe(Oe).mount("#app");
